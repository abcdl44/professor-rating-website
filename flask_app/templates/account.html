{% extends "header.html" %}
{% block content %}
<div class="row">
    <div class="col">
        {# Profile picture #}
        <img class="pic" src="data:image/png;base64,{{image}}" alt="image">
    </div>
    <div class="col">
        {# Greeting #}
        <h4>Hello {{current_user.username}}!!</h4>
    </div>
</div>
<div class="row">
    <div class="col">
        {# Username Update Form #}
        <div class="row">
            <div class="col">
                <form method="POST" action="">
                    {{ username_form.csrf_token }}

                    <div class="form-group">
                        {{ username_form.username.label }}
                        {{ username_form.username(class="form-control") }}
                
                        {% if username_form.username.errors %}
                        <div class="alert alert-warning" role="alert">
                        {% for error in username_form.username.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                        </div>
                        {% endif %}
                
                    </div>

                    {{ username_form.submit() }}
                </form>
        
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        {# Password Update Form #}
        <div class="row">
            <div class="col">
                <form method="POST" action="">
                    {{ password_form.csrf_token }}

                    <div class="form-group">
                        {{ password_form.password.label }}
                        {{ password_form.password(class="form-control") }}
                
                        {% if password_form.password.errors %}
                        <div class="alert alert-warning" role="alert">
                        {% for error in password_form.password.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                        </div>
                        {% endif %}
                
                    </div>

                    {{ password_form.submit() }}
                </form>
        
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        {# Email Update Form #}
        <div class="row">
            <div class="col">
                <form method="POST" action="">
                    {{ email_form.csrf_token }}

                    <div class="form-group">
                        {{ email_form.email.label }}
                        {{ email_form.email(class="form-control") }}
                
                        {% if email_form.email.errors %}
                        <div class="alert alert-warning" role="alert">
                        {% for error in email_form.email.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                        </div>
                        {% endif %}
                
                    </div>

                    {{ email_form.submit() }}
                </form>
        
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        {# Link to see all of the current user's reviews. #}
        <h4><a href={{ url_for('users.user_details', username = current_user.username) }}>Reviews</a> </h4>
    </div>
</div>
{% endblock %}